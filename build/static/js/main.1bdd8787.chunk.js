(this["webpackJsonpauth0-react-sample"]=this["webpackJsonpauth0-react-sample"]||[]).push([[0],{17:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c(18),r=c.n(s),i=c(2),l=c(3),o=function(){return Object(n.jsxs)("footer",{className:"footer bg-light p-2 text-center",children:[Object(n.jsx)("div",{className:"logo"}),Object(n.jsxs)("p",{children:["Sample project provided by"," ",Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com",children:"Auth0"})]})]})},j=function(){return Object(n.jsxs)("div",{className:"text-center hero",children:[Object(n.jsx)("img",{className:"mb-3 app-logo",src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/logo.png",alt:"React logo",width:"120"}),Object(n.jsx)("h1",{className:"mb-4",children:"React Sample Project"}),Object(n.jsxs)("p",{className:"lead",children:["This is a sample application that demonstrates an authentication flow for SPAs, using"," ",Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/quickstart/spa/react",children:"React"})]})]})},b=function(){return Object(n.jsx)("div",{className:"spinner",children:Object(n.jsx)("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."})})},d=c(6),u=function(){return Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(n.jsx)(d.b,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"Home"}),Object(n.jsx)(d.b,{to:"/external-api",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"External API"})]})},h=function(){var e=Object(l.b)().loginWithRedirect;return Object(n.jsxs)("button",{className:"btn-sm btn-primary",onClick:function(){return e()},children:[Object(n.jsx)("span",{className:"loggedState iconify","data-icon":"mdi:login-variant"})," Log In"]})},m=function(){var e=Object(l.b)().logout;return Object(n.jsxs)("button",{className:"btn-sm btn-danger",onClick:function(){return e({returnTo:window.location.origin})},children:[Object(n.jsx)("span",{className:"loggedState iconify","data-icon":"mdi:logout-variant"}),"Log Out"]})},x=function(){return Object(l.b)().isAuthenticated?Object(n.jsx)(m,{}):Object(n.jsx)(h,{})},p=(c(39),function(){var e=Object(i.f)();return Object(n.jsxs)("button",{className:"user-profile-btn btn-sm btn-primary",onClick:function(){e.push("/profile")},children:[Object(n.jsx)("span",{class:"loggedState iconify","data-icon":"ant-design:user-outlined"}),"Profile"]})}),O=function(){return Object(l.b)().isAuthenticated?Object(n.jsx)(p,{}):""},v=function(){return Object(n.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(n.jsx)(O,{}),"\xa0\xa0",Object(n.jsx)(x,{})]})},f=function(){return Object(n.jsx)("div",{className:"navbar-container nav-container mb-3",children:Object(n.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"navbar-brand logo"}),Object(n.jsx)(u,{}),Object(n.jsx)(v,{})]})})})},g=c(9),N=c.n(g),k=c(14),w=c(10),y=function(){var e=Object(a.useState)(""),t=Object(w.a)(e,2),c=t[0],s=t[1],r="http://localhost:6060",i=Object(l.b)().getAccessTokenSilently,o=function(){var e=Object(k.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(r,"/api/messages/public-message"));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,s(c.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(N.a.mark((function e(){var t,c,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return t=e.sent,e.next=6,fetch("".concat(r,"/api/messages/protected-message"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return c=e.sent,e.next=9,c.json();case 9:n=e.sent,s(n.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{children:"External API"}),Object(n.jsx)("p",{children:"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."}),Object(n.jsxs)("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:o,children:"Get Public Message"}),"\xa0\xa0",Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:j,children:"Get Protected Message"})]}),c&&Object(n.jsxs)("div",{className:"mt-5",children:[Object(n.jsx)("h6",{className:"muted",children:"Result"}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("code",{className:"col-12 text-light bg-dark p-4",children:c})})})]})]})},A=function(){return Object(n.jsx)(a.Fragment,{children:Object(n.jsx)(j,{})})},P=function(){var e=Object(l.b)().user,t=e.name,c=e.picture,a=e.email;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"row align-items-center profile-header",children:[Object(n.jsx)("div",{className:"col-md-2 mb-3",children:Object(n.jsx)("img",{src:c,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})}),Object(n.jsxs)("div",{className:"col-md text-center text-md-left",children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("p",{className:"lead text-muted",children:a})]})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("pre",{className:"col-12 text-light bg-dark p-4",children:JSON.stringify(e,null,2)})})]})},R=c(21),I=c(22),S=function(e){var t=e.component,c=Object(I.a)(e,["component"]);return Object(n.jsx)(i.a,Object(R.a)({component:Object(l.c)(t,{onRedirecting:function(){return Object(n.jsx)(b,{})}})},c))},C=(c(17),function(){return Object(l.b)().isLoading?Object(n.jsx)(b,{}):Object(n.jsxs)("div",{id:"app",className:"d-flex flex-column h-100",children:[Object(n.jsx)("div",{className:"navbar-container",children:Object(n.jsx)(f,{})}),Object(n.jsx)("div",{className:"container flex-grow-1",children:Object(n.jsxs)(i.c,{children:[Object(n.jsx)(i.a,{path:"/",exact:!0,component:A}),Object(n.jsx)(S,{path:"/profile",component:P}),Object(n.jsx)(S,{path:"/external-api",component:y})]})}),Object(n.jsx)("div",{className:"footer-container",children:Object(n.jsx)(o,{})})]})});var T=function(e){var t=e.children,c=Object(i.f)();return Object(n.jsx)(l.a,{domain:"pwelby.auth0.com",clientId:"pZFNBRRA6a9A5GDBiYaBWPqn12OYl0ym",redirectUri:window.location.origin,onRedirectCallback:function(e){c.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"http://Auth0-React.sample",children:t})};c(41);r.a.render(Object(n.jsx)(d.a,{children:Object(n.jsx)(T,{children:Object(n.jsx)(C,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.1bdd8787.chunk.js.map